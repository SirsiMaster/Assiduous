<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Platform Analytics - Assiduous Realty Admin</title>
    
    <!-- Assiduous Design System -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/SirsiMaster/sirsi-ui@v0.1.1/dist/sirsi-ui.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link rel="stylesheet" href="../../assiduous.css">
    <link rel="stylesheet" href="../../components/admin-layout.css">
    
    <style>
        /* Admin Layout - Consistent across all admin pages */
        body {
            margin: 0;
            padding: 0;
            font-family: "Geist Sans", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
            background: var(--white);
        }

        .admin-wrapper {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 240px;
            background: var(--navy);
            color: var(--white);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: var(--space-lg);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: var(--white);
            text-decoration: none;
        }

        .sidebar-logo svg {
            width: 24px;
            height: 24px;
        }

        .sidebar-logo-text {
            font-size: 18px;
            font-weight: 700;
        }

        .sidebar-nav {
            flex: 1;
            padding: var(--space-md) 0;
        }

        .nav-section {
            margin-bottom: var(--space-lg);
        }

        .nav-section-title {
            padding: 0 var(--space-lg);
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.6;
            margin-bottom: var(--space-sm);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.15s;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.05);
            color: var(--white);
        }

        .nav-item.active {
            background: var(--sky);
            color: var(--white);
        }

        .nav-icon {
            width: 18px;
            height: 18px;
            opacity: 0.8;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }


        /* Page Content */
        .page-content {
            flex: 1;
            padding: var(--space-xl);
            overflow-y: auto;
            background: var(--gray-50);
        }


        /* Market Stats */
        .market-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-md);
            margin-bottom: var(--space-xl);
        }

        .stat-card {
            background: var(--white);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
        }

        .stat-icon {
            width: 32px;
            height: 32px;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: var(--space-sm);
        }

        .stat-icon.up {
            background: rgba(5, 150, 105, 0.1);
            color: var(--success);
        }

        .stat-icon.down {
            background: rgba(220, 38, 38, 0.1);
            color: var(--danger);
        }

        .stat-icon.neutral {
            background: rgba(96, 163, 217, 0.1);
            color: var(--sky);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: var(--space-xs);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.025em;
            margin-bottom: var(--space-sm);
        }

        .stat-change {
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stat-change.positive { color: var(--success); }
        .stat-change.negative { color: var(--danger); }

        /* Charts Section */
        .charts-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }

        .chart-card {
            background: var(--white);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }

        .chart-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
        }

        .chart-container {
            height: 300px;
            background: var(--gray-50);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Market Segments */
        .segments-list {
            list-style: none;
            padding: 0;
        }

        .segment-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-sm) 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .segment-item:last-child {
            border-bottom: none;
        }

        .segment-name {
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
        }

        .segment-value {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .segment-bar {
            width: 100%;
            height: 8px;
            background: var(--gray-100);
            border-radius: 4px;
            margin-top: var(--space-xs);
            overflow: hidden;
        }

        .segment-fill {
            height: 100%;
            background: var(--sky);
        }

        /* Areas Table */
        .data-table {
            background: var(--white);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            overflow: hidden;
        }

        .table-header {
            padding: var(--space-md) var(--space-lg);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            padding: var(--space-sm) var(--space-lg);
            text-align: left;
            font-size: 11px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            background: var(--gray-50);
            border-bottom: 1px solid var(--border);
        }

        td {
            padding: var(--space-md) var(--space-lg);
            font-size: 14px;
            color: var(--text-primary);
            border-bottom: 1px solid var(--gray-100);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: var(--gray-50);
        }

        .trend-indicator {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .trend-up { color: var(--success); }
        .trend-down { color: var(--danger); }
        .trend-stable { color: var(--text-secondary); }

        /* Responsive */
        @media (max-width: 1024px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            
            .market-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <script defer src="https://cdn.jsdelivr.net/gh/SirsiMaster/sirsi-ui@v0.1.2/dist/sirsi-ui.js"></script>
</head>
<body>
    <div class="admin-wrapper">
        <!-- Sidebar - Consistent across all admin pages -->
        <aside id="sidebar-root" data-active="development-analytics"></aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Standardized Admin Header -->
            <header id="admin-header-root" 
                    data-title="Development Analytics" 
                    data-subtitle="Code quality metrics, performance trends, and system health analytics"
                    data-search-placeholder="Search analytics data..."
                    data-actions='[{"label":"Export Report","icon":"<path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path><polyline points=\"7 10 12 15 17 10\"></polyline><line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line>","onclick":"HeaderActions.exportData()"}]'></header>

            <!-- Page Content -->
            <div class="page-content">

                <!-- Development Stats -->
                <div class="market-stats">
                    <div class="stat-card sirsi-card sirsi-card--elevated">
                        <div class="stat-icon neutral">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                        </div>
                        <div class="stat-value">99.98%</div>
                        <div class="stat-label">System Uptime</div>
                        <div class="stat-change positive">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            +0.02% improvement
                        </div>
                    </div>

                    <div class="stat-card sirsi-card sirsi-card--elevated">
                        <div class="stat-icon up">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="7" y1="7" x2="17" y2="17"></line>
                                <polyline points="17 7 17 17 7 17"></polyline>
                            </svg>
                        </div>
                        <div class="stat-value">1.8s</div>
                        <div class="stat-label">Avg Page Load</div>
                        <div class="stat-change positive">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            -0.3s improvement
                        </div>
                    </div>

                    <div class="stat-card sirsi-card sirsi-card--elevated">
                        <div class="stat-icon neutral">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 3v18h18"></path>
                                <path d="M18 17V9"></path>
                                <path d="M13 17V5"></path>
                                <path d="M8 17v-3"></path>
                            </svg>
                        </div>
                        <div class="stat-value">200ms</div>
                        <div class="stat-label">API Response Time</div>
                        <div class="stat-change positive">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            -50ms faster
                        </div>
                    </div>

                    <div class="stat-card sirsi-card sirsi-card--elevated">
                        <div class="stat-icon up">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div class="stat-value">0.01%</div>
                        <div class="stat-label">Error Rate</div>
                        <div class="stat-change positive">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            -0.02% reduction
                        </div>
                    </div>

                    <div class="stat-card sirsi-card sirsi-card--elevated">
                        <div class="stat-icon neutral">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="9" y1="9" x2="15" y2="9"></line>
                                <line x1="9" y1="15" x2="15" y2="15"></line>
                            </svg>
                        </div>
                        <div class="stat-value">287KB</div>
                        <div class="stat-label">Bundle Size</div>
                        <div class="stat-change positive">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            -12KB optimized
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-grid">
                    <!-- Performance Trends Chart -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Performance Trends</h3>
                            <select style="border: 1px solid var(--border); border-radius: var(--radius); padding: 4px 8px; font-size: 12px;">
                                <option>Page Load Time</option>
                                <option>API Response</option>
                                <option>Database Queries</option>
                                <option>Error Rate</option>
                            </select>
                        </div>
                        <div class="chart-container" id="performanceChart">
                            <canvas id="perfChart" style="width: 100%; height: 100%;"></canvas>
                        </div>
                    </div>

                    <!-- Resource Usage -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Resource Usage</h3>
                        </div>
                        <ul class="segments-list">
                            <li class="segment-item">
                                <div>
                                    <div class="segment-name">CPU Usage</div>
                                    <div class="segment-bar">
                                        <div class="segment-fill" style="width: 35%; background: var(--success);"></div>
                                    </div>
                                </div>
                                <span class="segment-value">35%</span>
                            </li>
                            <li class="segment-item">
                                <div>
                                    <div class="segment-name">Memory</div>
                                    <div class="segment-bar">
                                        <div class="segment-fill" style="width: 42%; background: var(--sky);"></div>
                                    </div>
                                </div>
                                <span class="segment-value">42%</span>
                            </li>
                            <li class="segment-item">
                                <div>
                                    <div class="segment-name">Storage</div>
                                    <div class="segment-bar">
                                        <div class="segment-fill" style="width: 28%; background: var(--warning);"></div>
                                    </div>
                                </div>
                                <span class="segment-value">28%</span>
                            </li>
                            <li class="segment-item">
                                <div>
                                    <div class="segment-name">Bandwidth</div>
                                    <div class="segment-bar">
                                        <div class="segment-fill" style="width: 15%; background: var(--purple);"></div>
                                    </div>
                                </div>
                                <span class="segment-value">15%</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Service Performance Table -->
                <div class="data-table sirsi-card">
                    <div class="table-header">
                        <h3 class="table-title">Service Performance Metrics</h3>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Service</th>
                                <th>Status</th>
                                <th>Uptime</th>
                                <th>Response Time</th>
                                <th>Requests/Day</th>
                                <th>Error Rate</th>
                                <th>Health</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Firebase Hosting</strong></td>
                                <td><span style="color: var(--success);">● Active</span></td>
                                <td>100%</td>
                                <td>45ms</td>
                                <td>12,450</td>
                                <td>0.00%</td>
                                <td>
                                    <span class="trend-indicator trend-up">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="18 15 12 9 6 15"></polyline>
                                        </svg>
                                        Excellent
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Cloud Functions</strong></td>
                                <td><span style="color: var(--success);">● Active</span></td>
                                <td>100%</td>
                                <td>200ms</td>
                                <td>3,250</td>
                                <td>0.01%</td>
                                <td>
                                    <span class="trend-indicator trend-up">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="18 15 12 9 6 15"></polyline>
                                        </svg>
                                        Healthy
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Firestore Database</strong></td>
                                <td><span style="color: var(--success);">● Active</span></td>
                                <td>99.99%</td>
                                <td>12ms</td>
                                <td>45,680</td>
                                <td>0.00%</td>
                                <td>
                                    <span class="trend-indicator trend-up">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="18 15 12 9 6 15"></polyline>
                                        </svg>
                                        Excellent
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Cloud Storage</strong></td>
                                <td><span style="color: var(--success);">● Active</span></td>
                                <td>100%</td>
                                <td>95ms</td>
                                <td>1,845</td>
                                <td>0.00%</td>
                                <td>
                                    <span class="trend-indicator trend-stable">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="5" y1="12" x2="19" y2="12"></line>
                                        </svg>
                                        Good
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Authentication</strong></td>
                                <td><span style="color: var(--warning);">● Pending</span></td>
                                <td>N/A</td>
                                <td>N/A</td>
                                <td>0</td>
                                <td>N/A</td>
                                <td>
                                    <span class="trend-indicator trend-stable">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="5" y1="12" x2="19" y2="12"></line>
                                        </svg>
                                        Setup Required
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>GitHub API</strong></td>
                                <td><span style="color: var(--success);">● Active</span></td>
                                <td>99.95%</td>
                                <td>180ms</td>
                                <td>890</td>
                                <td>0.02%</td>
                                <td>
                                    <span class="trend-indicator trend-up">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="18 15 12 9 6 15"></polyline>
                                        </svg>
                                        Good
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- Load Firebase Analytics Service -->
    <script src="../../assets/js/services/firebaseanalyticsservice.js"></script>
    
    <!-- Chart.js for performance graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        // Initialize Firebase Analytics
        let firebaseAnalytics = null;
        if (window.firebaseanalyticsservice) {
            firebaseAnalytics = new firebaseanalyticsservice();
            firebaseAnalytics.init();
        }
        
        // Create performance chart
        function createPerformanceChart() {
            const ctx = document.getElementById('perfChart');
            if (!ctx) return;
            
            new Chart(ctx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Page Load (ms)',
                        data: [1850, 1820, 1900, 1780, 1750, 1800, 1800],
                        borderColor: '#60A3D9',
                        backgroundColor: 'rgba(96, 163, 217, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });
        }
        
        // Highlight active page in sidebar
        document.addEventListener('DOMContentLoaded', function() {
            createPerformanceChart();
            const currentPath = window.location.pathname;
            document.querySelectorAll('.nav-item').forEach(item => {
                if (item.getAttribute('href') === currentPath) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        });
    </script>
    <script src="../../components/sidebar.js"></script>
    <script src="../../components/admin-header.js"></script>
</body>
</html>
